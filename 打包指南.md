# ğŸš€ æ‰“åŒ…æˆ EXE - å®Œæ•´æŒ‡å—

## ğŸ“¦ åœ¨ Windows ä¸Šæ‰“åŒ…

### æ–¹æ³•ä¸€ï¼šä¸€é”®æ‰“åŒ…ï¼ˆæœ€ç®€å• â­ï¼‰

```bash
åŒå‡»è¿è¡Œï¼šbuild_simple.bat
```

**å°±è¿™ä¹ˆç®€å•ï¼** è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥ Python ç‰ˆæœ¬
2. æ£€æŸ¥å¹¶å®‰è£… PyQt5
3. å®‰è£… PyInstaller
4. æ¸…ç†æ—§æ–‡ä»¶
5. æ‰“åŒ…æˆ EXE
6. æ˜¾ç¤ºç»“æœ

**æ‰“åŒ…å®Œæˆå**ï¼š
- æ–‡ä»¶ä½ç½®ï¼š`dist\ScreenshotTool.exe`
- å¤§å°ï¼šçº¦ 30-40 MB
- å¯ä»¥ç›´æ¥è¿è¡Œæˆ–åˆ†å‘

---

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ‰“åŒ…

#### æ­¥éª¤ 1ï¼šå®‰è£… PyInstaller

```bash
pip install pyinstaller
```

#### æ­¥éª¤ 2ï¼šè¿è¡Œæ‰“åŒ…å‘½ä»¤

```bash
pyinstaller simple.spec
```

æˆ–è€…ï¼ˆä¸ä½¿ç”¨ spec æ–‡ä»¶ï¼‰ï¼š

```bash
pyinstaller --onefile --windowed --name "ScreenshotTool" screenshot_simple.py
```

#### æ­¥éª¤ 3ï¼šè·å– EXE

æ‰“åŒ…å®Œæˆåï¼Œåœ¨ `dist` æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° `ScreenshotTool.exe`

---

## ğŸ“‹ å®Œæ•´å‘½ä»¤å‚è€ƒ

### åŸºç¡€æ‰“åŒ…

```bash
# æœ€ç®€å•çš„æ–¹å¼
pyinstaller screenshot_simple.py
```

### å•æ–‡ä»¶æ‰“åŒ…

```bash
# æ‰“åŒ…æˆå•ä¸ª EXE æ–‡ä»¶ï¼ˆæ¨èï¼‰
pyinstaller --onefile --windowed screenshot_simple.py
```

### è‡ªå®šä¹‰åç§°

```bash
# è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å
pyinstaller --onefile --windowed --name "æˆ‘çš„æˆªå›¾å·¥å…·" screenshot_simple.py
```

### ä½¿ç”¨ spec æ–‡ä»¶ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶æ‰“åŒ…ï¼ˆå¯é‡å¤ä½¿ç”¨ï¼‰
pyinstaller simple.spec
```

---

## ğŸ¨ æ‰“åŒ…å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | æ¨èå€¼ |
|------|------|--------|
| `--onefile` | æ‰“åŒ…æˆå•ä¸ª EXE | âœ… ä½¿ç”¨ |
| `--windowed` | æ— æ§åˆ¶å°çª—å£ï¼ˆGUI ç¨‹åºå¿…é¡»ï¼‰ | âœ… ä½¿ç”¨ |
| `--name` | è‡ªå®šä¹‰ç¨‹åºå | å¯é€‰ |
| `--icon` | æ·»åŠ å›¾æ ‡ï¼ˆ.ico æ–‡ä»¶ï¼‰ | å¯é€‰ |
| `--console` | æ˜¾ç¤ºæ§åˆ¶å°ï¼ˆè°ƒè¯•ç”¨ï¼‰ | è°ƒè¯•æ—¶ä½¿ç”¨ |

---

## ğŸ“ æ–‡ä»¶ç»“æ„

æ‰“åŒ…å‰çš„æ–‡ä»¶ï¼š
```
tool/
â”œâ”€â”€ screenshot_simple.py      â† ä¸»ç¨‹åº
â”œâ”€â”€ simple.spec               â† æ‰“åŒ…é…ç½®
â””â”€â”€ build_simple.bat          â† æ‰“åŒ…è„šæœ¬
```

æ‰“åŒ…åçš„æ–‡ä»¶ï¼š
```
tool/
â”œâ”€â”€ build/                    â† ä¸´æ—¶æ–‡ä»¶ï¼ˆå¯åˆ é™¤ï¼‰
â”œâ”€â”€ dist/                     â† ğŸ‘ˆ è¾“å‡ºæ–‡ä»¶å¤¹
â”‚   â””â”€â”€ ScreenshotTool.exe    â† æœ€ç»ˆçš„ EXE æ–‡ä»¶
â””â”€â”€ ScreenshotTool.spec       â† ç”Ÿæˆçš„ spec æ–‡ä»¶
```

---

## âœ¨ æ‰“åŒ…ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šå¿«é€Ÿæ‰“åŒ…

```bash
# 1. å®‰è£… PyInstaller
pip install pyinstaller

# 2. æ‰“åŒ…
pyinstaller --onefile --windowed screenshot_simple.py

# 3. è¿è¡Œ EXE
cd dist
ScreenshotTool.exe
```

### ç¤ºä¾‹ 2ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶

```bash
# 1. å®‰è£… PyInstaller
pip install pyinstaller

# 2. ä½¿ç”¨é…ç½®æ–‡ä»¶æ‰“åŒ…
pyinstaller simple.spec

# 3. è¿è¡Œ EXE
cd dist
ScreenshotTool.exe
```

### ç¤ºä¾‹ 3ï¼šå¸¦å›¾æ ‡æ‰“åŒ…

```bash
# 1. å‡†å¤‡å›¾æ ‡æ–‡ä»¶ï¼ˆicon.icoï¼‰
# 2. æ‰“åŒ…æ—¶æŒ‡å®šå›¾æ ‡
pyinstaller --onefile --windowed --icon=icon.ico screenshot_simple.py
```

---

## ğŸ”§ é«˜çº§é€‰é¡¹

### æ·»åŠ ç‰ˆæœ¬ä¿¡æ¯

åˆ›å»º `version.txt`ï¼š
```
VSVersionInfo(
  ffi=FixedFileInfo(
    filevers=(1, 0, 0, 0),
    prodvers=(1, 0, 0, 0),
    mask=0x3f,
    flags=0x0,
    OS=0x40004,
    fileType=0x1,
    subtype=0x0,
    date=(0, 0)
  ),
  kids=[
    StringFileInfo(
      [StringTable(
        u'040904B0',
        [StringStruct(u'CompanyName', u'Your Name'),
        StringStruct(u'FileDescription', u'Windows Screenshot Tool'),
        StringStruct(u'FileVersion', u'1.0.0.0'),
        StringStruct(u'ProductName', u'ScreenshotTool'),
        StringStruct(u'ProductVersion', u'1.0.0.0')])
      ])
    )
  ]
)
```

æ‰“åŒ…æ—¶æ·»åŠ ï¼š
```bash
pyinstaller --version-file=version.txt simple.spec
```

---

## ğŸ¯ æ‰“åŒ…ä¼˜åŒ–

### å‡å°æ–‡ä»¶å¤§å°

```bash
# æ’é™¤ä¸éœ€è¦çš„æ¨¡å—
pyinstaller --onefile --windowed \
  --exclude-module tkinter \
  --exclude-module matplotlib \
  screenshot_simple.py
```

### åŠ å¿«å¯åŠ¨é€Ÿåº¦

```bash
# ä½¿ç”¨ UPX å‹ç¼©ï¼ˆå·²é»˜è®¤å¯ç”¨ï¼‰
pyinstaller --onefile --windowed --upx-dir=./upx screenshot_simple.py
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: æ‰“åŒ…åè¿è¡ŒæŠ¥é”™ "No module named 'PyQt5'"

**A**: æ£€æŸ¥ spec æ–‡ä»¶çš„ `hiddenimports` æ˜¯å¦åŒ…å« PyQt5 æ¨¡å—

```python
hiddenimports=[
    'PyQt5.QtCore',
    'PyQt5.QtGui',
    'PyQt5.QtWidgets',
]
```

### Q2: æ‰“åŒ…å EXE å¾ˆå¤§

**A**: æ­£å¸¸ç°è±¡ï¼ŒPyQt5 æœ¬èº«å°±å¾ˆå¤§ï¼ˆ30-40MBï¼‰

### Q3: æ‰“åŒ…åæ— æ³•è¿è¡Œ

**A**: å°è¯•ä»¥ä¸‹æ­¥éª¤ï¼š
1. å…ˆæµ‹è¯•æºä»£ç ï¼š`python screenshot_simple.py`
2. ä½¿ç”¨æ§åˆ¶å°æ¨¡å¼æŸ¥çœ‹é”™è¯¯ï¼š`--console`
3. æ£€æŸ¥æ€æ¯’è½¯ä»¶æ˜¯å¦æ‹¦æˆª

### Q4: æ€æ¯’è½¯ä»¶æŠ¥æ¯’

**A**: PyInstaller æ‰“åŒ…çš„ç¨‹åºå¯èƒ½è¢«è¯¯æŠ¥ï¼Œè§£å†³æ–¹æ³•ï¼š
- æ·»åŠ åˆ°æ€æ¯’è½¯ä»¶ç™½åå•
- æˆ–ç”¨ä»£ç ç­¾åè¯ä¹¦ç­¾åï¼ˆéœ€è¦è´­ä¹°ï¼‰

---

## ğŸ“Š æ‰“åŒ…æ—¶é—´å‚è€ƒ

| æ“ä½œ | æ—¶é—´ |
|------|------|
| é¦–æ¬¡æ‰“åŒ… | 1-2 åˆ†é’Ÿ |
| é‡å¤æ‰“åŒ… | 30-60 ç§’ |
| å®‰è£… PyInstaller | 30 ç§’ |
| æ¸…ç†æ—§æ–‡ä»¶ | 5 ç§’ |

**æ€»è®¡**ï¼šé¦–æ¬¡çº¦ 2 åˆ†é’Ÿï¼Œåç»­çº¦ 1 åˆ†é’Ÿ

---

## ğŸ‰ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰

### æœ€ç®€å•çš„ 3 æ­¥ï¼š

```bash
# 1. ç¡®ä¿å·²å®‰è£… PyQt5
pip install PyQt5

# 2. å®‰è£… PyInstaller
pip install pyinstaller

# 3. åŒå‡»æ‰“åŒ…è„šæœ¬
build_simple.bat
```

**å®Œæˆï¼** åœ¨ `dist` æ–‡ä»¶å¤¹æ‰¾åˆ° `ScreenshotTool.exe`

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **æ‰“åŒ…å‰æµ‹è¯•**ï¼šç¡®ä¿æºä»£ç èƒ½æ­£å¸¸è¿è¡Œ
2. **ä½¿ç”¨ spec æ–‡ä»¶**ï¼šä¾¿äºé‡å¤æ‰“åŒ…å’Œè‡ªå®šä¹‰é…ç½®
3. **æ¸…ç†æ—§æ–‡ä»¶**ï¼šæ¯æ¬¡æ‰“åŒ…å‰åˆ é™¤ `build` å’Œ `dist` æ–‡ä»¶å¤¹
4. **æµ‹è¯• EXE**ï¼šæ‰“åŒ…åå…ˆè‡ªå·±æµ‹è¯•ä¸€é
5. **æ€æ¯’è½¯ä»¶ç™½åå•**ï¼šå‘Šè¯‰ç”¨æˆ·å¯èƒ½çš„è¯¯æŠ¥

---

## ğŸš€ ç«‹å³å¼€å§‹

**ä¸€é”®æ‰“åŒ…ï¼š**
```bash
åŒå‡»ï¼šbuild_simple.bat
```

**æ‰‹åŠ¨æ‰“åŒ…ï¼š**
```bash
pip install pyinstaller
pyinstaller simple.spec
```

**è·å– EXEï¼š**
```
è¿›å…¥ dist æ–‡ä»¶å¤¹
åŒå‡» ScreenshotTool.exe
```

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰
